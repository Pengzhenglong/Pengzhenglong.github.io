

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/2.jpg">
  <link rel="icon" href="/img/2.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="DragonPeng">
  <meta name="keywords" content="">
  
  <title>React初识&amp;&amp;JSX&amp;&amp;函数式组件 - DragonPeng的博客</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.9","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>DragonPeng' blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/page1.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="React初识&&JSX&&函数式组件">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-04-16 11:15" pubdate>
        April 16, 2022 am
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.7k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      48
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">React初识&amp;&amp;JSX&amp;&amp;函数式组件</h1>
            
            <div class="markdown-body">
              <p>学习react的笔记</p>
<hr>
<h3 id="react-项目-npm-i-安装依赖报错"><a href="#react-项目-npm-i-安装依赖报错" class="headerlink" title="react 项目 npm i 安装依赖报错"></a>react 项目 npm i 安装依赖报错</h3><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs d">创建react工程，提示错误The engine <span class="hljs-string">&quot;node&quot;</span> <span class="hljs-keyword">is</span> incompatible <span class="hljs-keyword">with</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">module</span>. Expected <span class="hljs-keyword">version</span> <span class="hljs-string">&quot;^8.10.0 || ^10.13.0 || &gt;=11.10.1&quot;</span>. Got <span class="hljs-string">&quot;10.5.0&quot;</span>，导致一直没有创建成功<br></code></pre></td></tr></table></figure>

<h4 id="node版本不一致"><a href="#node版本不一致" class="headerlink" title="node版本不一致"></a>node版本不一致</h4><ol>
<li>升级node</li>
</ol>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> 第一步：使用npm安装n模块,n模块是专门用来管理nodejs版本的，名字就叫n执行命令<br>npm install -g n    <span class="hljs-regexp">//</span> （注意不带sudo，我按照网上带sudo提示错误）<br><span class="hljs-regexp">//</span> 出现此日志表示添加n包成功<br><span class="hljs-regexp">//</span> 第二步：使用n模块升级node<br><span class="hljs-regexp">//</span> 第一种是升级到最新版本<br>sudo n latest<br><span class="hljs-regexp">//</span> 第二种是升级到稳定版本（建议用稳定版本）<br>sudo n stable<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>如果更新了node或许或导致其他工程有问题，不能轻易更新，可以输入命令行,也可以恢复正常</li>
</ol>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">yarn<span class="hljs-built_in"> config </span><span class="hljs-builtin-name">set</span> ignore-engines <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>

<h4 id="采用了第二种安装，别人的项目拉取node版本不同也能解决"><a href="#采用了第二种安装，别人的项目拉取node版本不同也能解决" class="headerlink" title="采用了第二种安装，别人的项目拉取node版本不同也能解决"></a>采用了第二种安装，别人的项目拉取node版本不同也能解决</h4><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/a186f65c2586">参考</a></p>
<h3 id="项目初始–vite配置项目路径别名"><a href="#项目初始–vite配置项目路径别名" class="headerlink" title="项目初始–vite配置项目路径别名"></a>项目初始–vite配置项目路径别名</h3><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000041417219">参考</a></p>
<h3 id="核心思想"><a href="#核心思想" class="headerlink" title="核心思想"></a>核心思想</h3><p>Vue 早期定位是尽可能的降低前端开发的门槛（这跟 Vue 作者是独立开发者也有关系）。所以 Vue 推崇灵活易用（渐进式开发体验），数据可变，双向数据绑定（依赖收集）。<br>React 早期口号是 Rethinking Best Practices(重新思考最佳实践)。背靠大公司 Facebook 的 React，从开始起就不缺关注和用户，而且 React 想要做的是用更好的方式去颠覆前端开发方式（事实上跟早期 jquery 称霸前端，的确是颠覆了）。所以 React 推崇函数式编程（纯组件），数据不可变以及单向数据流。函数式编程最大的好处是其稳定性（无副作用）和可测试性（输入相同，输出一定相同），所以通常大家说的 React 适合大型应用，根本原因还是在于其函数式编程。<br>由于两者核心思想的不同，所以导致 Vue 和 React 许多外在表现不同（从开发层面看）。</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6953482028188860424#comment">掘金</a></p>
<h4 id="总体感受–一些区别"><a href="#总体感受–一些区别" class="headerlink" title="总体感受–一些区别"></a>总体感受–一些区别</h4><ul>
<li>vue 更简单，更方便，熟悉了 api 以后，实现某些简单功能更快。react 写法更偏向于原生 JS，Class 的写法不是很舒服，个人更喜欢 hooks。</li>
<li>熟悉了 hooks 以后，写起来很自由，不用关心 vue 中固定的 options api</li>
<li>react 做中后台优势更大，有大厂加持，生态更好，组件库功能也更多，解决方案也更多</li>
<li>vue2.x 对 typescript 不太友好，react + typescript 更加舒适，两者写起来风格差距较大。</li>
<li>react JSX 写起来还是不够熟练，onClick、style、className 等等，没有 v-if，v-for，All in JS。Vue 则推崇 html、js、css 分离的写法，当然 vue 也可以写 JSX</li>
<li>vue 的 prop 必须在子组件 props 字段里声明。React 的 prop 不强制声明，直接使用，如果用 TS 的话还是要声明的</li>
</ul>
<h3 id="React-是什么？"><a href="#React-是什么？" class="headerlink" title="React 是什么？"></a>React 是什么？</h3><p>React 是一个<strong>声明式</strong>，高效且灵活的用于构建用户界面的 JavaScript 库。使用 React 可以将一些简短、独立的代码片段组合成复杂的 UI 界面，这些代码片段被称作“组件”。</p>
<h3 id="JSX基础"><a href="#JSX基础" class="headerlink" title="JSX基础"></a>JSX基础</h3><ol>
<li>JSX介绍<br>概念：JSX是 JavaScript XML（HTML）的缩写，表示在 JS 代码中书写 HTML 结构<br>作用：在React中创建HTML结构（页面UI结构）</li>
</ol>
<h4 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h4><ol>
<li>采用类似于HTML的语法，降低学习成本，会HTML就会JSX</li>
<li>充分利用JS自身的可编程能力创建HTML结构<br>注意：JSX 并不是标准的 JS 语法，是 JS 的语法扩展，浏览器默认是不识别的，脚手架中内置的 @babel/plugin-transform-react-jsx 包，用来解析该语法</li>
</ol>
<h4 id="2-JSX中使用js表达式"><a href="#2-JSX中使用js表达式" class="headerlink" title="2. JSX中使用js表达式"></a>2. JSX中使用js表达式</h4><p>语法<br>{ JS 表达式 }</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xquery">const<span class="hljs-built_in"> name</span> = <span class="hljs-string">&#x27;柴柴&#x27;</span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>你好，我叫</span><span class="xquery"><span class="hljs-built_in">&#123;name</span>&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>   //    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>你好,我叫柴柴<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>可以使用的表达式</p>
<ol>
<li>字符串、数值、布尔值、null、undefined、object（ [] / {} ）</li>
<li>1 + 2、’abc’.split(‘’)、[‘a’, ‘b’].join(‘-‘)</li>
<li>fn()<br>特别注意</li>
</ol>
<blockquote>
<p>if 语句/ switch-case 语句/ 变量声明语句，这些叫做语句，不是表达式，不能出现在 {} 中！！</p>
</blockquote>
<h4 id="3-JSX列表渲染"><a href="#3-JSX列表渲染" class="headerlink" title="3. JSX列表渲染"></a>3. JSX列表渲染</h4><p>页面的构建离不开重复的列表结构，比如歌曲列表，商品列表等，我们知道vue中用的是v-for，react这边如何实现呢？</p>
<p>实现：使用数组的map 方法</p>
<p>案例：</p>
<figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xquery">// 来个列表<br>const songs = [<br>  &#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">1</span>,<span class="hljs-built_in"> name</span>: <span class="hljs-string">&#x27;痴心绝对&#x27;</span> &#125;,<br>  &#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">2</span>,<span class="hljs-built_in"> name</span>: <span class="hljs-string">&#x27;像我这样的人&#x27;</span> &#125;,<br>  &#123;<span class="hljs-built_in"> id</span>: <span class="hljs-number">3</span>,<span class="hljs-built_in"> name</span>: <span class="hljs-string">&#x27;南山南&#x27;</span> &#125;<br>]<br><span class="hljs-keyword">function</span> App() &#123;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;App&quot;</span>&gt;</span></span><br><span class="xml">      </span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">        </span><span class="xquery">&#123;</span><br><span class="xquery">          songs.<span class="hljs-keyword">map</span>(<span class="hljs-type">item</span> =&gt; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span></span><span class="xquery">&#123;<span class="hljs-type">item</span><span class="hljs-built_in">.name</span>&#125;</span></span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><span class="xml">)</span><br><span class="xml">        &#125;</span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br>    &lt;/div&gt;<br>  )<br>&#125;<br>export <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<p>注意点：需要为遍历项添加 key 属性</p>
<ol>
<li>key 在 HTML 结构中是看不到的，是 React 内部用来进行性能优化时使用</li>
<li>key 在当前列表中要唯一的字符串或者数值（String/Number）</li>
<li>如果列表中有像 id 这种的唯一值，就用 id 来作为 key 值</li>
<li>如果列表中没有像 id 这种的唯一值，就可以使用 index（下标）来作为 key 值</li>
</ol>
<h4 id="4-JSX条件渲染"><a href="#4-JSX条件渲染" class="headerlink" title="4. JSX条件渲染"></a>4. JSX条件渲染</h4><p>作用：根据是否满足条件生成HTML结构，比如Loading效果</p>
<p>实现：可以使用 三元运算符 或 逻辑与(&amp;&amp;)运算符</p>
<p>案例：</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-comment">// 来个布尔值</span><br><span class="hljs-keyword">const</span> flag = <span class="hljs-literal">true</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span><span class="hljs-params">()</span> </span>&#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;div className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &#123;<span class="hljs-comment">/*条件渲染字符串*/</span>&#125;<br>      &#123;flag ? <span class="hljs-string">&#x27;react真有趣&#x27;</span> : <span class="hljs-string">&#x27;vue真有趣&#x27;</span>&#125;<br>      &#123;<span class="hljs-comment">/*条件渲染标签/组件*/</span>&#125;<br>      &#123;flag ? &lt;span&gt;<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> span&lt;/span&gt; : <span class="hljs-literal">null</span>&#125;<br>    &lt;/div&gt;<br>  )<br>&#125;<br>export <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<h4 id="5-JSX样式处理"><a href="#5-JSX样式处理" class="headerlink" title="5. JSX样式处理"></a>5. JSX样式处理</h4><p>目标任务: 能够在JSX中实现css样式处理</p>
<p>行内样式 - style</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs axapta">function App() &#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;<span class="hljs-keyword">div</span> className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &lt;<span class="hljs-keyword">div</span> style=&#123;&#123; color: <span class="hljs-string">&#x27;red&#x27;</span> &#125;&#125;&gt;<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> a <span class="hljs-keyword">div</span>&lt;/<span class="hljs-keyword">div</span>&gt;<br>    &lt;/<span class="hljs-keyword">div</span>&gt;<br>  )<br>&#125;<br><br>export <span class="hljs-literal">default</span> App<br></code></pre></td></tr></table></figure>

<p>行内样式 - style - 更优写法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> styleObj = &#123;<br>    color:red<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span>(<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;div className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &lt;div style=&#123; styleObj &#125;&gt;<span class="hljs-built_in">this</span> is a div&lt;/div&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<p>类名 - className（推荐）</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs gradle">app.css<br><br>.title &#123;<br>  font-<span class="hljs-keyword">size</span>: <span class="hljs-number">30</span>px;<br>  color: blue;<br>&#125;<br>app.js<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./app.css&#x27;</span><br><br>function App() &#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;<span class="hljs-keyword">div</span> className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &lt;<span class="hljs-keyword">div</span> className=<span class="hljs-string">&#x27;title&#x27;</span>&gt;<span class="hljs-keyword">this</span> is a <span class="hljs-keyword">div</span>&lt;/<span class="hljs-keyword">div</span>&gt;<br>    &lt;/<span class="hljs-keyword">div</span>&gt;<br>  )<br>&#125;<br>export <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<p>类名 - className - 动态类名控制</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs axapta">import <span class="hljs-string">&#x27;./app.css&#x27;</span><br><span class="hljs-keyword">const</span> showTitle = <span class="hljs-literal">true</span><br>function App() &#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;<span class="hljs-keyword">div</span> className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &lt;<span class="hljs-keyword">div</span> className=&#123; showTitle ? <span class="hljs-string">&#x27;title&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>&#125;&gt;<span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> a <span class="hljs-keyword">div</span>&lt;/<span class="hljs-keyword">div</span>&gt;<br>    &lt;/<span class="hljs-keyword">div</span>&gt;<br>  )<br>&#125;<br>export <span class="hljs-literal">default</span> App<br></code></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://react.docschina.org/docs/introducing-jsx.html">官网</a><br><a href="">参考文档</a></p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ol>
<li>文件名可以是jsx 或者js，不影响文件中的代码</li>
<li>组件名称必须大写</li>
<li>Js中出现 （）代表其中想要写的html</li>
<li>HTML中出现 {} 代表其中想要写的js</li>
</ol>
<h5 id="JSX注意事项"><a href="#JSX注意事项" class="headerlink" title="JSX注意事项"></a>JSX注意事项</h5><p>JSX<strong>必须有一个根节点</strong>，如果没有根节点，可以使用&lt;&gt;&lt;/&gt;（幽灵节点）替代</p>
<p>所有标签必须形成闭合，成对闭合或者自闭合都可以</p>
<p>JSX中的语法更加贴近JS语法，<strong>属性名采用驼峰命名法</strong> class -&gt; className for -&gt; htmlFor</p>
<p>JSX支持多行（换行），如果需要换行，需使用() 包裹，防止bug出现</p>
<h3 id="React组件基础"><a href="#React组件基础" class="headerlink" title="React组件基础"></a>React组件基础</h3><h4 id="函数式组件"><a href="#函数式组件" class="headerlink" title="函数式组件"></a>函数式组件</h4><p>1.函数式组件没有声明周期<br>2.函数式组件没有this<br>3.函数式组件没有state状态<br>函数组件</p>
<p>使用 JS 的函数（或箭头函数）创建的组件，就叫做函数组件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">组件定义与渲染<br><br><span class="hljs-comment">// 定义函数组件</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">HelloFn</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>这是我的第一个函数组件!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&#125;<br><br><span class="hljs-comment">// 定义类组件</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;div className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &#123;<span class="hljs-comment">/* 渲染函数组件 */</span>&#125;<br>      &lt;HelloFn /&gt;<br>      &lt;HelloFn&gt;&lt;/HelloFn&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<p>约定说明</p>
<ol>
<li>组件的名称<strong>必须首字母大写</strong>，react内部会根据这个来判断是组件还是普通的HTML标签</li>
<li><strong>函数组件必须有返回值</strong>，表示该组件的 UI 结构；如果不需要渲染任何内容，则返回 null</li>
<li>组件就像 HTML 标签一样可以被渲染到页面中。组件表示的是一段结构内容，对于函数组件来说，渲染的内容是函数的返回值就是对应的内容</li>
<li>使用函数名称作为组件标签名称，可以成对出现也可以自闭合</li>
</ol>
<h4 id="类组件"><a href="#类组件" class="headerlink" title="类组件"></a>类组件</h4><blockquote>
<p>使用 ES6 的 class 创建的组件，叫做类（class）组件</p>
</blockquote>
<p>组件定义与渲染</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引入React</span><br><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-comment">// 定义类组件</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloC</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>这是我的第一个类组件!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;div className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &#123;<span class="hljs-comment">/*渲染类组件*/</span>&#125;<br>      &lt;HelloC /&gt;<br>      &lt;HelloC&gt;&lt;/HelloC&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<p>约定说明</p>
<ol>
<li><strong>类名称也必须以大写字母开头</strong></li>
<li>类组件应该继承 React.Component 父类，从而使用父类中提供的方法或属性</li>
<li>类组件必须提供 render 方法<strong>render 方法必须有返回值，表示该组件的 UI 结构</strong></li>
</ol>
<h4 id="事件绑定"><a href="#事件绑定" class="headerlink" title="事件绑定"></a>事件绑定</h4><ol>
<li>如何绑定事件<br>语法</li>
</ol>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="xml">on + 事件名称 = </span><span class="hljs-template-variable">&#123; 事件处理程序 &#125;</span><span class="xml"> ，比如：<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">onClick</span>=</span></span><span class="hljs-template-variable">&#123;()=&gt;&#123;&#125;</span><span class="xml"><span class="hljs-tag">&#125;&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>注意点<br>react事件采用<strong>驼峰命名法</strong>，比如：onMouseEnter、onFocus<br>样例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 函数组件</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">HelloFn</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">// 定义事件回调函数</span><br>  <span class="hljs-keyword">const</span> clickHandler = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;事件被触发了&#x27;</span>)<br>  &#125;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="hljs-comment">// 绑定事件</span><br>    &lt;button onClick=&#123;clickHandler&#125;&gt;click me!&lt;/button&gt;<br>  )<br>&#125;<br><span class="hljs-comment">// 类组件</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloC</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-comment">// 定义事件回调函数</span><br>  clickHandler = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;事件被触发了&#x27;</span>)<br>  &#125;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-comment">// 绑定事件</span><br>      &lt;button onClick=&#123;<span class="hljs-built_in">this</span>.clickHandler&#125;&gt;click me!&lt;/button&gt;<br>    )<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>获取事件对象<br>通过事件处理程序的参数获取事件对象e</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 函数组件</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">HelloFn</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-comment">// 定义事件回调函数</span><br>  <span class="hljs-keyword">const</span> clickHandler = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>    e.preventDefault()<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;事件被触发了&#x27;</span>, e)<br>  &#125;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="hljs-comment">// 绑定事件</span><br>    &lt;a href=<span class="hljs-string">&quot;http://www.baidu.com/&quot;</span> onClick=&#123;clickHandler&#125;&gt;百度&lt;/a&gt;<br>  )<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="组件状态"><a href="#组件状态" class="headerlink" title="组件状态"></a>组件状态</h4><p>目标任务: 能够为组件添加状态和修改状态的值</p>
<blockquote>
<p>一个前提：在react hook出来之前，函数式组件是没有自己的状态的，所以我们统一通过类组件来讲解<br><img src="/imageO/react1.png" srcset="/img/loading.gif" lazyload alt="组件状态"></p>
</blockquote>
<ol>
<li>初始化状态<br>通过class的实例属性state来初始化</li>
</ol>
<p>state的值是一个对象结构，表示一个组件可以有多个数据状态</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-comment">// 初始化状态</span><br>  state = &#123;<br>    count: <span class="hljs-number">0</span><br>  &#125;<br>  render() &#123;<br>    <span class="hljs-keyword">return</span> &lt;button&gt;计数器&lt;/button&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>读取状态<br>通过this.state来获取状态</li>
</ol>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-comment">// 初始化状态</span><br>  state = &#123;<br>    count: <span class="hljs-number">0</span><br>  &#125;<br>  render() &#123;<br>    <span class="hljs-comment">// 读取状态</span><br>    <span class="hljs-keyword">return</span> &lt;button&gt;计数器&#123;<span class="hljs-keyword">this</span>.state.count&#125;&lt;/button&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<ol start="3">
<li>修改状态</li>
</ol>
<ul>
<li>语法</li>
</ul>
<p>this.setState({ 要修改的部分数据 })</p>
<ul>
<li><p>setState方法作用<br>修改state中的数据状态<br>更新UI</p>
</li>
<li><p>思想<br>​ 数据驱动视图，也就是只要修改数据状态，那么页面就会自动刷新，无需手动操作dom</p>
</li>
<li><p>注意事项<br>​ <strong>不要直接修改state中的值，必须通过setState方法进行修改</strong></p>
</li>
</ul>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs scala"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-comment">// 定义数据</span><br>  state = &#123;<br>    count: <span class="hljs-number">0</span><br>  &#125;<br>  <span class="hljs-comment">// 定义修改数据的方法</span><br>  setCount = () =&gt; &#123;<br>    <span class="hljs-keyword">this</span>.setState(&#123;<br>      count: <span class="hljs-keyword">this</span>.state.count + <span class="hljs-number">1</span><br>    &#125;)<br>  &#125;<br>  <span class="hljs-comment">// 使用数据 并绑定事件</span><br>  render () &#123;<br>    <span class="hljs-keyword">return</span> &lt;button onClick=&#123;<span class="hljs-keyword">this</span>.setCount&#125;&gt;&#123;<span class="hljs-keyword">this</span>.state.count&#125;&lt;/button&gt;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="/imageO/react2.png" srcset="/img/loading.gif" lazyload alt="this"></p>
<h4 id="this问题说明"><a href="#this问题说明" class="headerlink" title="this问题说明"></a>this问题说明</h4><p>这里我们作为了解内容，随着js标准的发展，主流的写法已经变成了class fields，无需考虑太多this问题</p>
<h4 id="React的状态不可变"><a href="#React的状态不可变" class="headerlink" title="React的状态不可变"></a>React的状态不可变</h4><p>概念：不要直接修改状态的值，而是基于当前状态创建新的状态值</p>
<ol>
<li>错误的直接修改</li>
</ol>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs pf"><span class="hljs-keyword">state</span> = &#123;<br>  count : <span class="hljs-number">0</span>,<br>  list: [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<br>  person: &#123;<br>     name:&#x27;jack&#x27;,<br>     age:<span class="hljs-number">18</span><br>  &#125;<br>&#125;<br>// 直接修改简单类型Number<br>this.<span class="hljs-keyword">state</span>.count++<br>++this.<span class="hljs-keyword">state</span>.count<br>this.<span class="hljs-keyword">state</span>.count += <span class="hljs-number">1</span><br>this.<span class="hljs-keyword">state</span>.count = <span class="hljs-number">1</span><br><br>// 直接修改数组<br>this.<span class="hljs-keyword">state</span>.list.push(<span class="hljs-number">123</span>)<br>this.<span class="hljs-keyword">state</span>.list.spice(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br><br>// 直接修改对象<br>this.<span class="hljs-keyword">state</span>.person.name = &#x27;rose&#x27;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>基于当前状态创建新值</li>
</ol>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs pf">this.<span class="hljs-built_in">set</span>State(&#123;<br>    count: this.<span class="hljs-keyword">state</span>.count + <span class="hljs-number">1</span><br>    list: [...this.<span class="hljs-keyword">state</span>.list, <span class="hljs-number">4</span>],<br>    person: &#123;<br>       ...this.<span class="hljs-keyword">state</span>.person,<br>       // 覆盖原来的属性 就可以达到修改对象中属性的目的<br>       name: &#x27;rose&#x27;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h4 id="表单处理"><a href="#表单处理" class="headerlink" title="表单处理"></a>表单处理</h4><p>使用React处理表单元素，一般有俩种方式：</p>
<p>受控组件 （推荐使用）<br>非受控组件 （了解）</p>
<h5 id="1-受控表单组件"><a href="#1-受控表单组件" class="headerlink" title="1. 受控表单组件"></a>1. 受控表单组件</h5><p>什么是受控组件？ input框自己的状态被React组件状态控制</p>
<blockquote>
<p>React组件的状态的地方是在state中，input表单元素也有自己的状态是在value中，React将state与表单元素的值（value）绑定到一起，由state的值来控制表单元素的值，从而保证单一数据源特性</p>
</blockquote>
<p>实现步骤</p>
<p>以获取文本框的值为例，受控组件的使用步骤如下：</p>
<ol>
<li>在组件的state中声明一个组件的状态数据</li>
<li>将状态数据设置为input标签元素的value属性的值</li>
<li>为input添加change事件，在事件处理程序中，通过事件对象e获取到当前文本框的值（即用户当前输入的值）</li>
<li>调用setState方法，将文本框的值作为state状态的最新值</li>
</ol>
<p>代码落地</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InputComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-comment">// 声明组件状态</span><br>  state = &#123;<br>    message: <span class="hljs-string">&#x27;this is message&#x27;</span>,<br>  &#125;<br>  <span class="hljs-comment">// 声明事件回调函数</span><br>  changeHandler = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">this</span>.setState(&#123; <span class="hljs-attr">message</span>: e.target.value &#125;)<br>  &#125;<br>  render () &#123;<br>    <span class="hljs-keyword">return</span> (<br>      &lt;div&gt;<br>        &#123;<span class="hljs-comment">/*绑定value 绑定事件*/</span>&#125;<br>        &lt;input value=&#123;<span class="hljs-built_in">this</span>.state.message&#125; onChange=&#123;<span class="hljs-built_in">this</span>.changeHandler&#125; /&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;div className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &lt;InputComponent /&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<h5 id="2-非受控表单组件"><a href="#2-非受控表单组件" class="headerlink" title="2. 非受控表单组件"></a>2. 非受控表单组件</h5><p>什么是非受控组件？</p>
<blockquote>
<p>非受控组件就是通过手动操作dom的方式获取文本框的值，文本框的状态不受react组件的state中的状态控制，直接通过原生dom获取输入框的值</p>
</blockquote>
<p>实现步骤</p>
<ol>
<li>导入createRef 函数</li>
<li>调用createRef函数，创建一个ref对象，存储到名为msgRef的实例属性中</li>
<li>为input添加ref属性，值为msgRef</li>
<li>在按钮的事件处理程序中，通过msgRef.current即可拿到input对应的dom元素，而其中msgRef.current.value拿到的就是文本框的值<br>代码落地</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> React, &#123; createRef &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InputComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>&#123;<br>  <span class="hljs-comment">// 使用createRef产生一个存放dom的对象容器</span><br>  msgRef = createRef()<br><br>  changeHandler = <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.msgRef.current.value)<br>  &#125;<br><br>  <span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">return</span> (<br>      &lt;div&gt;<br>        &#123;<span class="hljs-comment">/*ref绑定 获取真实dom*/</span>&#125;<br>        &lt;input ref=&#123;<span class="hljs-built_in">this</span>.msgRef&#125; /&gt;<br>        &lt;button onClick=&#123;<span class="hljs-built_in">this</span>.changeHandler&#125;&gt;click&lt;/button&gt;<br>      &lt;/div&gt;<br>    )<br>  &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">App</span> (<span class="hljs-params"></span>) </span>&#123;<br>  <span class="hljs-keyword">return</span> (<br>    &lt;div className=<span class="hljs-string">&quot;App&quot;</span>&gt;<br>      &lt;InputComponent /&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App<br></code></pre></td></tr></table></figure>

<h4 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h4><p><a target="_blank" rel="noopener" href="https://gitee.com/react-cp/react-pc-doc/blob/master/1.%E5%9F%BA%E7%A1%80%E6%96%87%E6%A1%A3/react-%E5%9F%BA%E7%A1%80.md#react%E7%9A%84%E7%8A%B6%E6%80%81%E4%B8%8D%E5%8F%AF%E5%8F%98">gitee</a><br><a target="_blank" rel="noopener" href="https://zh-hans.reactjs.org/docs/forwarding-refs.html#forwarding-refs-to-dom-components">官方文档</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/React/">React</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/">前端基础</a>
                    
                      <a class="hover-with-bg" href="/tags/React/">React</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/04/27/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAVite%E7%AC%94%E8%AE%B0(1)/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">深入浅出Vite入门&&为什么ESM是前端模块化的未来(1)</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/29/%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96/">
                        <span class="hidden-mobile">函数柯里化</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      $('#local-search-input').on('click', function() {
        searchFunc(path, 'local-search-input', 'local-search-result');
      });
      $('#modalSearch').on('shown.bs.modal', function() {
        $('#local-search-input').focus();
      });
    })()
  </script>












  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
